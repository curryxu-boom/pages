(window.webpackJsonp=window.webpackJsonp||[]).push([[574],{1431:function(s,n,a){"use strict";a.r(n);var e=a(1),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"启动脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动脚本"}},[s._v("#")]),s._v(" 启动脚本")]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("查看启动脚本")]),s._v(" "),a("div",{staticClass:"language-dos line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('@echo off\n:start\n\n:: 设置变量，使用变量时需要用一对%包起来\n:: 日期截取遵从格式 %date:~x,y%，表示从第x位开始，截取y个长度(x,y的起始值为0)\n:: 年份从第0位开始截取4位，月份从第5位开始截取2位，日期从第8位开始截取2位 \nset YEAR=%date:~0,4%\nset MONTH=%date:~5,2%\nset DAY=%date:~8,2%\nset CURRENT_DATE=%YEAR%-%MONTH%-%DAY%\necho %CURRENT_DATE% \n:: 时间截取遵从格式 %time:~x,y%，表示从第x位开始，截取y个长度(x,y的起始值为0)\n:: 时钟从第0位开始截取2位，分钟从第3位开始截取2位，秒钟从第6位开始截取2位 \nset HOUR=%time:~0,2%\nset MINUTE=%time:~3,2%\nset SECOND=%time:~6,2%\n\n\n::日期\nset DATE=%YEAR%%MONTH%%DAY%\necho ====日期%DATE%.log\n::基础路径\nset BASE_PATH=E:\\a-study\\yunwei\\windows\n::服务名称。同时约定部署服务的 jar 包名字也为它。\nset SERVER_NAME=bmfw-boot\n::环境\nset PROFILES_ACTIVE=dev,datasource,token,redis,platform,websecurity,user\n::配置文件加密密码\nset PROFILES_PASSWORD=keySecret\n::服务端口号\nset SERVER_PORT=8081\n::服务上下文\nset CONTEXT_PATH=app-api\n::heapError 存放路径\nset HEAP_ERROR_PATH=%BASE_PATH%\\heapError\n::JVM 参数\nset JAVA_OPS=-Xms1024m -Xmx1024m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=%HEAP_ERROR_PATH%\n::GC 存放路径\nset GC_PATH=%BASE_PATH%\\gcLog\n::JVM GC参数设置\nset JAVA_GC=-XX:+UseConcMarkSweepGC -XX:+PrintGCTimeStamps -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintGCCause -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=20 -XX:GCLogFileSize=100M\n\n@echo ====================开始配置堆栈错误信息====================\necho 堆栈错误存放路径----%HEAP_ERROR_PATH%\nif exist %HEAP_ERROR_PATH% (\n    echo 目录存在\n) else (\n    echo 目录不存在-开始创建目录\n    mkdir %HEAP_ERROR_PATH%\n)\n@echo ====================配置堆栈错误信息完成====================\n\n@echo ====================开始配置GC日志信息====================\necho "[检测GC日志路径] %GC_PATH%"\nif exist %GC_PATH% (\n    echo 目录存在\n)else (\n    echo 目录不存在-开始创建目录\n    mkdir %GC_PATH%\n)\necho "[检测GC日志] %GC_PATH%\\gc.%DATE%.log\nif exist %GC_PATH%\\gc.%DATE%.log (\n    echo 文件存在\n) else (\n    echo 文件不存在-开始创建文件\n    type nul>%GC_PATH%\\gc.%DATE%.log\n)\n@echo ====================配置GC日志信息完成====================\n\n%设置cmd窗口中文编码日志中的中文显示正常%\nCHCP 65001\n\n:: 以窗口的形式启动jar包 指定gc收集器，gc日志，jvm堆栈控件，堆栈异常信息文件，服务编码，服务端口，服务上下文，服务环境配置\n:: START "便民服务" java -verbose:gc -Xloggc:"%GC_PATH%\\gc.%DATE%.log" %JAVA_GC% %JAVA_OPS% -jar -DMY_PASSWORD=%PROFILES_PASSWORD% -Dfile.encoding=utf-8 -Dserver.port=%SERVER_PORT% -Dserver.servlet.context-path=/%CONTEXT_PATH% -Dspring.profiles.active=%PROFILES_ACTIVE% %SERVER_NAME%.jar\n\n:: 以后台的形式启动jar包 指定gc收集器，gc日志，jvm堆栈控件，堆栈异常信息文件，服务编码，服务端口，服务上下文，服务环境配置\n:: START "便民服务" javaw -verbose:gc -Xloggc:"%GC_PATH%\\gc.%DATE%.log" %JAVA_GC% %JAVA_OPS% -jar -DMY_PASSWORD=%PROFILES_PASSWORD% -Dfile.encoding=utf-8 -Dserver.port=%SERVER_PORT% -Dserver.servlet.context-path=/%CONTEXT_PATH% -Dspring.profiles.active=%PROFILES_ACTIVE% %SERVER_NAME%.jar\n\n::pause\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br")])])]),s._v(" "),a("h2",{attrs:{id:"停止脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#停止脚本"}},[s._v("#")]),s._v(" 停止脚本")]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("查看停止脚本")]),s._v(" "),a("div",{staticClass:"language-dos line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('@echo off\n\n%设置cmd窗口中文编码日志中的中文显示正常%\nCHCP 65001\n:: 服务端口\nset SERVER_PORT=8081\necho 开始停止 %SERVER_PORT% 服务。。。\nfor /f "tokens=1-5" %%i in (\'netstat -ano^|findstr ":%SERVER_PORT%"\') do (\n echo kill the process %%m who use the port \n taskkill /pid %%m -t -f\n goto start\n)\necho 服务 %SERVER_PORT% 已停止。。。\npause\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])])])}),[],!1,null,null,null);n.default=t.exports}}]);