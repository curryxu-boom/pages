(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{1369:function(s,a,t){"use strict";t.r(a);var n=t(1),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"数据库配置工具-database-configuration-assistant"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据库配置工具-database-configuration-assistant"}},[s._v("#")]),s._v(" 数据库配置工具 Database Configuration Assistant")]),s._v(" "),n("h2",{attrs:{id:"用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用户"}},[s._v("#")]),s._v(" 用户")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("sys; //系统管理员，拥有最高权限 \nsystem; //本地管理员，次高权限 \nscott; //普通用户，密码默认为tiger,默认未解锁 \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"登陆"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#登陆"}},[s._v("#")]),s._v(" 登陆")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[s._v("sqlplus "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" sysdba"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--登陆sys帐户 ")]),s._v("\nsqlplus sys "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" sysdba"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--同上 ")]),s._v("\nsqlplus scott"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tiger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--登陆普通用户scott")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"管理用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#管理用户"}},[s._v("#")]),s._v(" 管理用户")]),s._v(" "),n("h3",{attrs:{id:"创建用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建用户"}},[s._v("#")]),s._v(" 创建用户")]),s._v(" "),n("p",[s._v("概述：在oracle中要创建一个新的用户使用create user语句，一般是具有dba(数据库管理员)的权限才能使用。")]),s._v(" "),n("p",[s._v("create user 用户名 identified by 密码; (oracle有个毛病，密码必须以字母开头，如果以字母开头，它不会创建用户)")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--在管理员帐户下，创建用户zhangsan ")]),s._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" scott identified "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" tiger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--修改密码 ")]),s._v("\n\n例子: \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" shunping identified "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" m123 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tablespace")]),s._v(" users "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("temporary")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tablespace")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("temp")]),s._v(" quota "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("m "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nidentified "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--表明该用户shunping 将用数据库方式验证 default tablespace users //用户的表空间在users上")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("temporary")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tablespace")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("temp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--用户shunping的临时表健在temp 空间")]),s._v("\nquota "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("m "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" users "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--表明用户shunping 建立的数据对象(表,索引,视图,pl/sql块..)最大只能是3m")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**刚刚创建的用户是没有任何权限的,因此,需要dba给该用户授权**/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("connect")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" shunpinggrant\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--如果你希望该用户建表没有空间的限制")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("grand resource "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" shunping\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--如果你希望该用户成为dba")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" dba "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" shunping\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h3",{attrs:{id:"给用户修改密码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#给用户修改密码"}},[s._v("#")]),s._v(" 给用户修改密码")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--概述：如果给自己修改密码可以直接使用")]),s._v("\npassword 用户名 \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--如果给别人修改密码则需要具有dba的权限，或是拥有alter user的系统权限 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" 用户名 identified "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" 新密码 \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"删除用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除用户"}},[s._v("#")]),s._v(" 删除用户")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--概述：一般以dba的身份去删除某个用户，如果用其它用户去删除用户则需要具有drop user的权限。 ")]),s._v("\n比如 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" 用户名 【"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("cascade")]),s._v("】 \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--在删除用户时，注意：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--如果要删除的用户，已经创建了表，那么就需要在删除的时候带一个参数cascade;")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"用户管理的综合案例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用户管理的综合案例"}},[s._v("#")]),s._v(" 用户管理的综合案例")]),s._v(" "),n("p",[s._v("概述：创建的新用户是没有任何权限的，甚至连登陆的数据库的权限都没有，需要为其指定相应的权限。给一个用户赋权限使用命令grant，回收权限使用命令revoke。")]),s._v(" "),n("p",[s._v("为了给讲清楚用户的管理，这里我给大家举一个案例。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" conn xiaoming"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("m12"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \nERROR: \nORA"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("01045")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" XIAOMING lacks "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SESSION")]),s._v(" privilege"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" logon denied \n警告: 您不再连接到 ORACLE。 \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" 为 "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" conn system"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("p"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n已连接。\n给用户授予登陆的这个权限\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("connect")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" xiaoming"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n授权成功。\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" conn xiaoming"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("m12"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--后面的为密码分开来输入。")]),s._v("\n已连"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" \n注意："),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("connect")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" xiaoming"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("在这里，接。\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),s._v("准确的讲，"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("connect")]),s._v("不是权限，而是角色（角色是权限的集合）。。看图：\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("img",{attrs:{src:t(682)}}),s._v(" "),n("p",[s._v("现在说下对象权限，现在要做这么件事情：")]),s._v(" "),n("blockquote",[n("p",[s._v("* 希望xiaoming用户可以去查询emp表")]),s._v(" "),n("p",[s._v("* 希望xiaoming用户可以去查询scott的emp表")]),s._v(" "),n("p",[s._v("grant select on emp to xiaoming")]),s._v(" "),n("p",[s._v("* 希望xiaoming用户可以去修改scott的emp表")]),s._v(" "),n("p",[s._v("grant update on emp to xiaoming")]),s._v(" "),n("p",[s._v("* 希望xiaoming用户可以去修改/删除，查询，添加scott的emp表")]),s._v(" "),n("p",[s._v("grant all on emp to xiaoming")]),s._v(" "),n("p",[s._v("* scott希望收回xiaoming对emp表的查询权限")]),s._v(" "),n("p",[s._v("revoke select on emp from xiaoming")])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--对权限的维护。 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 希望xiaoming用户可以去查询scott的emp表/还希望xiaoming可以把这个权限继续给别人。 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--如果是对象权限，就加入 with grant option ")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" emp "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" xiaoming "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("option")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--我的操作过程：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" conn scott"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tiger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n已连接。\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" scott"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("emp "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" xiaoming "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("option")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n授权成功。\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" conn system"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("p"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n已连接。\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" xiaohong identified "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" m123"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n用户已创建。\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("connect")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" xiaohong"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n授权成功。\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" conn xiaoming"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("m12"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n已连接。\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" scott"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("emp "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" xiaohong"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n授权成功。\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--如果是系统权限。 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--system给xiaoming权限时： ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("connect")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" xiaoming "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" admin "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("option")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--问题：如果scott把xiaoming对emp表的查询权限回收，那么xiaohong会怎样？ ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--答案：被回收。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--下面是我的操作过程：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" conn scott"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tiger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n已连接。\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("revoke")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" emp "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" xiaoming"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n撤销成功。\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" conn xiaohong"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("m123"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n已连接。\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" scott"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("emp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" scott"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("emp \n第 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 行出现错误: \nORA"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("00942")]),s._v(": 表或视图不存在 \n结果显示：小红受到诛连了。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("h3",{attrs:{id:"使用profile管理用户口令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用profile管理用户口令"}},[s._v("#")]),s._v(" 使用profile管理用户口令")]),s._v(" "),n("p",[s._v("概述：profile是口令限制，资源限制的命令集合，当建立数据库的，oracle会自动建立名称为default的profile。当建立用户没有指定profile选项，那么oracle就会将default分配给用户。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("账户锁定 \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--概述：指定该账户(用户)登陆时最多可以输入密码的次数，也可以指定用户锁定的时间(天)一般用dba的身份去执行该命令。 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--例子：指定scott这个用户最多只能尝试3次登陆，锁定时间为2天，让我们看看怎么实现。 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--创建profile文件 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" profile lock_account "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" failed_login_attempts "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" password_lock_time "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" scott profile lock_account"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("给账户"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("用户"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("解锁 \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" tea account "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unlock")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("终止口令 \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--为了让用户定期修改密码可以使用终止口令的指令来完成，同样这个命令也需要dba的身份来操作。 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--例子：给前面创建的用户tea创建一个profile文件，要求该用户每隔10天要修改自己的登陆密码，宽限期为2天。看看怎么做。 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" profile myprofile "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" password_life_time "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" password_grace_time "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" tea profile myprofile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[n("strong",[s._v("口令历史")])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--概述：如果希望用户在修改密码时，不能使用以前使用过的密码，可使用口令历史，这样oracle就会将口令修改的信息存放到数据字典中，这样当用户修改密码时，oracle就会对新旧密码进行比较，当发现新旧密码一样时，就提示用户重新输入密码。 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--例子：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("）建立profile \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" profile password_history "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" password_life_time "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" password_grace_time "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" password_reuse_time "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" \npassword_reuse_time "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--指定口令可重用时间即10天后就可以重用 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("）分配给某个用户 \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("删除profile")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--概述：当不需要某个profile文件时，可以删除该文件。 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" profile password_history 【casade】 \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--注意：文件删除后，用这个文件去约束的那些用户通通也都被释放了。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--加了casade，就会把级联的相关东西也给删除掉")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"授予权限"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#授予权限"}},[s._v("#")]),s._v(" 授予权限")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" sysdba "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" username"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 给用户授予sysdba权限")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、默认的普通用户scott默认未解锁，不能进行那个使用，新建的用户也没有任何权限，必须授予权限 \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*管理员授权*/")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--授予zhangsan用户创建session的权限，即登陆权限 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" unlimited "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--授予zhangsan用户使用表空间的权限 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--授予创建表的权限 ")]),s._v("\ngrante "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--授予删除表的权限 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--插入表的权限 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--修改表的权限 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--这条比较重要，授予所有权限(all)给所有用户(public) ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、oralce对权限管理比较严谨，普通用户之间也是默认不能互相访问的，需要互相授权 \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*oralce对权限管理比较严谨，普通用户之间也是默认不能互相访问的*/")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tablename "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--授予zhangsan用户查看指定表的权限 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tablename "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--授予删除表的权限 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tablename "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--授予插入的权限 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tablename "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--授予修改表的权限 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tablename "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tablename "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--授予对指定表特定字段的插入和修改权限，注意，只能是insert和update ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" alert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--授予zhangsan用户alert任意表的权限 ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h2",{attrs:{id:"撤销权限"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#撤销权限"}},[s._v("#")]),s._v(" 撤销权限")]),s._v(" "),n("p",[s._v("基本语法同grant,关键字为revoke")]),s._v(" "),n("h2",{attrs:{id:"查看权限"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看权限"}},[s._v("#")]),s._v(" 查看权限")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" user_sys_privs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--查看当前用户所有权限 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" user_tab_privs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--查看所用用户对表的权限 ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"操作表的用户的表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#操作表的用户的表"}},[s._v("#")]),s._v(" 操作表的用户的表")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*需要在表名前加上用户名，如下*/")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tablename \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"权限传递"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#权限传递"}},[s._v("#")]),s._v(" 权限传递")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--即用户A将权限授予B，B可以将操作的权限再授予C，命令如下： ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" alert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tablename "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" admin "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("option")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--关键字 with admin option ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" alert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" tablename "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("option")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--关键字 with grant option效果和admin类似 ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"角色"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#角色"}},[s._v("#")]),s._v(" 角色")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--角色即权限的集合，可以把一个角色授予给用户 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" role myrole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--创建角色 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" myrole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--将创建session的权限授予myrole ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" myrole "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" zhangsan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--授予zhangsan用户myrole的角色 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" role myrole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--删除角色 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*但是有些权限是不能授予给角色的，比如unlimited tablespace和any关键字*/")]),s._v(" \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports},682:function(s,a,t){s.exports=t.p+"assets/img/4.1740e020.png"}}]);