(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{1393:function(s,n,t){"use strict";t.r(n);var e=t(1),a=Object(e.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("blockquote",[e("p",[s._v("有这样一种场景：数据放到了内存中  当内存不够的时候 会出现什么问题?  那么这个时候 会出现内存的数据的淘汰  那么既然是淘汰就需要淘汰的策略")])]),s._v(" "),e("p",[s._v("LRU的原理")]),s._v(" "),e("img",{attrs:{src:t(740)}}),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只要缓存满了、那么就不继续服务器里面的写的请求、读的请求是可以完成的")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这种模式缓存里面的所有数据 都不会丢失、这种情况会导致参与Redis的业务会失败")]),s._v("\nnoeviction\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 他会优先淘汰掉 设置了过期时间的这个key、然后第二步才淘汰掉使用的比较少的key 假设我们的key没有设置过期时间的话 那么不会优先淘汰")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这种模式也是咋们在开发中使用的比较多的一种缓存策略模式")]),s._v("\nvolatile-lru\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 和lru是有区别的、这个在淘汰的时候、淘汰的是全体key的集合、不是过期的key的集合(过期这一说法没有)、这就意味着你没有设置过期时间的key 只要使用的比较少那么依然会被淘汰")]),s._v("\nallkeys-lfu\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个淘汰策略不是LRU 、而是key剩余的寿命的ttl值  ttl值越小  越先被淘汰")]),s._v("\nvolatile-ttl\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用这个淘汰策略的时候  淘汰的是随机的key")]),s._v("\nallkeys-random\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置缓存的淘汰策略")]),s._v("\nmaxmemory-policy volatile-lru\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置Redis的缓存的大小")]),s._v("\nmaxmemory "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("bytes"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br")])])])}),[],!1,null,null,null);n.default=a.exports},740:function(s,n,t){s.exports=t.p+"assets/img/1594607526075.9f1eed8b.png"}}]);