(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{1121:function(a,t,s){"use strict";s.r(t);var n=s(1),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("ul",[n("li",[a._v("不可变类的使用")]),a._v(" "),n("li",[a._v("不可变类设计")]),a._v(" "),n("li",[a._v("无状态类设计")])]),a._v(" "),n("p",[a._v("参考视频："),n("a",{attrs:{href:"https://www.bilibili.com/video/BV16J411h7Rd/?p=188&spm_id_from=pageDriver&vd_source=a8c98c296c32f29367168e837367f0d1",target:"_blank",rel:"noopener noreferrer"}},[a._v("07.001-本章内容_哔哩哔哩_bilibili"),n("OutboundLink")],1)]),a._v(" "),n("img",{attrs:{src:s(573)}}),a._v(" "),n("p",[a._v("有如下例子")]),a._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[a._v("        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SimpleDateFormat")]),a._v(" dateFormat "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SimpleDateFormat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"yyyy-MM-dd"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("try")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Date")]),a._v(" parse "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" dateFormat"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-06-18"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n                    log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"{}"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" parse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("catch")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ParseException")]),a._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("throw")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("RuntimeException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("start")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br")])]),n("p",[a._v("结果")]),a._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[a._v("Exception "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" thread "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Thread-7"')]),a._v(" Exception "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" thread "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Thread-2"')]),a._v(" java.lang.NumberFormatException: For input string: "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n\tat java.lang.NumberFormatException.forInputString"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("NumberFormatException.java:65"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.lang.Long.parseLong"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Long.java:601"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.lang.Long.parseLong"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Long.java:631"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.text.DigitList.getLong"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("DigitList.java:195"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.text.DecimalFormat.parse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("DecimalFormat.java:2084"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.text.SimpleDateFormat.subParse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("SimpleDateFormat.java:1869"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.text.SimpleDateFormat.parse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("SimpleDateFormat.java:1514"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.text.DateFormat.parse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("DateFormat.java:364"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat com.xiaofei.共享模型之不可变.本章内容.Test.lambda"),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$main")]),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Test.java:25"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.lang.Thread.run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Thread.java:748"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\njava.lang.NumberFormatException: empty String\n\tat sun.misc.FloatingDecimal.readJavaFormatString"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("FloatingDecimal.java:1842"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat sun.misc.FloatingDecimal.parseDouble"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("FloatingDecimal.java:110"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.lang.Double.parseDouble"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Double.java:538"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.text.DigitList.getDouble"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("DigitList.java:169"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.text.DecimalFormat.parse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("DecimalFormat.java:2089"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.text.SimpleDateFormat.subParse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("SimpleDateFormat.java:1869"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.text.SimpleDateFormat.parse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("SimpleDateFormat.java:1514"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.text.DateFormat.parse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("DateFormat.java:364"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat com.xiaofei.共享模型之不可变.本章内容.Test.lambda"),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$main")]),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Test.java:25"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.lang.Thread.run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Thread.java:748"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v(":36:04.228 c.Test "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Thread-0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" - Sun Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" 00:00:00 CST "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2023")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v(":36:04.228 c.Test "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Thread-1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" - Sun Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" 00:00:00 CST "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2023")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v(":36:04.229 c.Test "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Thread-5"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" - Thu Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" 00:00:00 CST "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1818")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v(":36:04.229 c.Test "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Thread-9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" - Sun Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" 00:00:00 CST "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2023")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v(":36:04.229 c.Test "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Thread-8"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" - Thu Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" 00:00:00 CST "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1818")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v(":36:04.228 c.Test "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Thread-3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" - Sun Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" 00:00:00 CST "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2023")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v(":36:04.229 c.Test "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Thread-4"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" - Sun Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" 00:00:00 CST "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2023")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("13")]),a._v(":36:04.228 c.Test "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Thread-6"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" - Sun Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" 00:00:00 CST "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2023")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br"),n("span",{staticClass:"line-number"},[a._v("22")]),n("br"),n("span",{staticClass:"line-number"},[a._v("23")]),n("br"),n("span",{staticClass:"line-number"},[a._v("24")]),n("br"),n("span",{staticClass:"line-number"},[a._v("25")]),n("br"),n("span",{staticClass:"line-number"},[a._v("26")]),n("br"),n("span",{staticClass:"line-number"},[a._v("27")]),n("br"),n("span",{staticClass:"line-number"},[a._v("28")]),n("br"),n("span",{staticClass:"line-number"},[a._v("29")]),n("br"),n("span",{staticClass:"line-number"},[a._v("30")]),n("br")])]),n("p",[a._v("可以看见这个非线程安全的类，在多线程环境下操作报错了")])])}),[],!1,null,null,null);t.default=e.exports},573:function(a,t,s){a.exports=s.p+"assets/img/1.0e487689.png"}}]);