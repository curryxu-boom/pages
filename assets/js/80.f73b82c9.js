(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{1401:function(s,a,e){"use strict";e.r(a);var t=e(1),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1、手动生成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、手动生成"}},[s._v("#")]),s._v(" 1、手动生成")]),s._v(" "),t("h3",{attrs:{id:"_1-1-生成私钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-生成私钥"}},[s._v("#")]),s._v(" 1.1. 生成私钥")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("openssl genrsa "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-out")]),s._v(" ca.key "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-2-通过私钥创建公钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-通过私钥创建公钥"}},[s._v("#")]),s._v(" 1.2. 通过私钥创建公钥")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("openssl req "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x509")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-days")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3650")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-key")]),s._v(" ca.key "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-out")]),s._v(" ca.crt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-3-创建-openssl-cnf-配置文件-只修改-alt-names-即可"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-创建-openssl-cnf-配置文件-只修改-alt-names-即可"}},[s._v("#")]),s._v(" 1.3. 创建 openssl.cnf 配置文件，只修改 alt_names 即可")]),s._v(" "),t("div",{staticClass:"language-cnf line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[req]\ndistinguished_name = req_distinguished_name\nreq_extensions = v3_req\n\n[req_distinguished_name]\ncountryName = Country Name (2 letter code)\ncountryName_default = US\nstateOrProvinceName = State or Province Name (full name)\nstateOrProvinceName_default = NY\nlocalityName = Locality Name (eg, city)\nlocalityName_default = NYC\norganizationalUnitName  = Organizational Unit Name (eg, section)\norganizationalUnitName_default  = xxx\ncommonName = xxx\ncommonName_max  = 64\n\n[ v3_req ]\n# Extensions to add to a certificate request\nbasicConstraints = CA:TRUE\nkeyUsage = nonRepudiation, digitalSignature, keyEncipherment\nsubjectAltName = @alt_names\n\n[alt_names]\nIP.1 = 192.168.1.14\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("h3",{attrs:{id:"_1-4-v3-ext-文件-只需要-alt-names-与上面的一致即可"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-v3-ext-文件-只需要-alt-names-与上面的一致即可"}},[s._v("#")]),s._v(" 1.4. v3.ext 文件，只需要 alt_names 与上面的一致即可")]),s._v(" "),t("div",{staticClass:"language-ext line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("authorityKeyIdentifier=keyid,issuer\nbasicConstraints=CA:FALSE\nkeyUsage=digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment\nsubjectAltName=@alt_names\n[alt_names]\nIP.1 = 192.168.1.14\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"_1-5-服务器证书私钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-服务器证书私钥"}},[s._v("#")]),s._v(" 1.5. 服务器证书私钥")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("openssl genrsa "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-out")]),s._v(" server.key "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-6-服务器证书公钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-服务器证书公钥"}},[s._v("#")]),s._v(" 1.6. 服务器证书公钥")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("openssl req "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-days")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3650")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-key")]),s._v(" server.key "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-out")]),s._v(" server.csr "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-config")]),s._v(" openssl.cnf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-7-用自己的-ca-给自己的服务器公钥签名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-用自己的-ca-给自己的服务器公钥签名"}},[s._v("#")]),s._v(" 1.7. 用自己的 CA 给自己的服务器公钥签名")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("openssl x509 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-days")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3650")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-req")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-sha256")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-extfile")]),s._v(" v3.ext "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-CA")]),s._v(" ca.crt "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-CAkey")]),s._v(" ca.key "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-CAcreateserial")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-in")]),s._v(" server.csr "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-out")]),s._v(" server.crt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"_2、脚本生成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、脚本生成"}},[s._v("#")]),s._v(" 2、脚本生成")]),s._v(" "),t("p",[s._v("参考如下项目："),t("a",{attrs:{href:"https://gitee.com/birdie_1104/ip_https_cert",target:"_blank",rel:"noopener noreferrer"}},[s._v("ip_https_cert"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"参考脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考脚本"}},[s._v("#")]),s._v(" 参考脚本")]),s._v(" "),t("p",[s._v("上面手动生成的步骤已经提取到脚本中了如下：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#! /bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请输入服务器IP地址"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请输入证书年限"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" year\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("year")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("expr")]),s._v(" $year + "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("days")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("expr")]),s._v(" $year "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("* "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("365")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo $days")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成私钥")]),s._v("\nopenssl genrsa "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-out")]),s._v(" ca.key "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成公钥 your.com 只是证书颁发人随便自定义")]),s._v("\nopenssl req "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x509")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-days")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$days")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-key")]),s._v(" ca.key "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-out")]),s._v(" ca.crt "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-subj")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"//C=CN/C=CN/ST=BJ/L=SJS/O=GuFei/OU=dev/CN=your.com"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建 openssl.cnf 配置文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF"),t("span",{pre:!0,attrs:{class:"token bash punctuation"}},[s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" openssl.cnf")]),s._v("\n[req]\ndistinguished_name = req_distinguished_name\nreq_extensions = v3_req\n\n[req_distinguished_name]\ncountryName = Country Name (2 letter code)\ncountryName_default = US\nstateOrProvinceName = State or Province Name (full name)\nstateOrProvinceName_default = NY\nlocalityName = Locality Name (eg, city)\nlocalityName_default = NYC\norganizationalName  = Organizational Name (eg, section)\norganizationalName_default  = gufei\norganizationalUnitName  = Organizational Unit Name (eg, section)\norganizationalUnitName_default  = dev\ncommonName = Common Name (eg, your name or your server's hostname)\ncommonName_max  = 64\n\n[v3_req]\n# Extensions to add to a certificate request\nbasicConstraints = CA:TRUE\nkeyUsage = nonRepudiation, digitalSignature, keyEncipherment\nsubjectAltName = @alt_names\n\n[alt_names]\nIP.1 = "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ip")]),s._v("\nEOF")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建v3.ext文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF"),t("span",{pre:!0,attrs:{class:"token bash punctuation"}},[s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" v3.ext")]),s._v("\nauthorityKeyIdentifier=keyid,issuer\nbasicConstraints=CA:FALSE\nkeyUsage=digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment\nsubjectAltName=@alt_names\n[alt_names]\nIP.1 = "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ip")]),s._v("\nEOF")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务器证书私钥")]),s._v("\nopenssl genrsa "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-out")]),s._v(" server.key "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务器证书公钥 your.com 只是证书颁发人随便自定义")]),s._v("\nopenssl req "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-days")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$days")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-key")]),s._v(" server.key "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-out")]),s._v(" server.csr "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-config")]),s._v(" openssl.cnf "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-subj")]),s._v(" //C"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CN/C"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CN/ST"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("BJ/L"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("SJS/O"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("GuFei/OU"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dev/CN"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("your.com\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用自己的 CA 给自己的服务器公钥签名")]),s._v("\nopenssl x509 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-days")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$days")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-req")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-sha256")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-extfile")]),s._v(" v3.ext "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-CA")]),s._v(" ca.crt "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-CAkey")]),s._v(" ca.key "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-CAcreateserial")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-in")]),s._v(" server.csr "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-out")]),s._v(" server.crt\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除无需的文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("ca.key,ca.srl,server.csr,openssl.cnf,v3.ext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br")])]),t("p",[s._v("生成证书文件如下：")]),s._v(" "),t("img",{attrs:{src:e(778)}}),s._v(" "),t("h3",{attrs:{id:"nginx配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx配置"}},[s._v("#")]),s._v(" nginx配置")]),s._v(" "),t("div",{staticClass:"language-nginx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-nginx"}},[t("code",[s._v("\t "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v(" ssl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server_name")]),s._v(" 192.168.10.1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_certificate")]),s._v(" cert/server.crt")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 证书文件路径")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_certificate_key")]),s._v(" cert/server.key")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 私钥文件路径")]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_protocols")]),s._v(" TLSv1.2 TLSv1.1 TLSv1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_session_cache")]),s._v(" shared:SSL:1m")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_session_timeout")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10m")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_ciphers")]),s._v(" HIGH:!aNULL:!MD5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ssl_prefer_server_ciphers")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("on")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    \t\t"),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_header")]),s._v(" Access-Control-Allow-Origin *")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" /xxx/")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_pass")]),s._v(" http://127.0.0.1:8081/xxx/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h3",{attrs:{id:"安装ca证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装ca证书"}},[s._v("#")]),s._v(" 安装ca证书")]),s._v(" "),t("p",[s._v("双击生成的 ca.crt 证书 进行安装")]),s._v(" "),t("img",{attrs:{src:e(779)}})])}),[],!1,null,null,null);a.default=n.exports},778:function(s,a){s.exports="data:image/png;base64,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"},779:function(s,a,e){s.exports=e.p+"assets/img/img_1.6acb510f.png"}}]);