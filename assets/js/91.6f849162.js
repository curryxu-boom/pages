(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{1046:function(t,e,a){"use strict";a.r(e);var v=a(1),r=Object(v.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h2",{attrs:{id:"栈与栈帧"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#栈与栈帧"}},[t._v("#")]),t._v(" 栈与栈帧")]),t._v(" "),v("p",[t._v("Java Virtual Machine Stacks （Java 虚拟机栈）")]),t._v(" "),v("p",[t._v("我们都知道 JVM 中由堆、栈、方法区所组成，其中栈内存是给谁用的呢？其实就是线程，每个线程启动后，虚拟 机就会为其分配一块栈内存。")]),t._v(" "),v("ul",[v("li",[t._v("每个栈由多个栈帧（Frame）组成，对应着每次方法调用时所占用的内存")]),t._v(" "),v("li",[t._v("每个线程只能有一个活动栈帧，对应着当前正在执行的那个方法")])]),t._v(" "),v("p",[t._v("程序运行-内存情况")]),t._v(" "),v("img",{attrs:{src:a(510)}}),t._v(" "),v("h2",{attrs:{id:"线程上下文切换-thread-context-switch"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#线程上下文切换-thread-context-switch"}},[t._v("#")]),t._v(" 线程上下文切换(Thread Context Switch)")]),t._v(" "),v("p",[t._v("因为以下一些原因导致 cpu 不再执行当前的线程，转而执行另一个线程的代码")]),t._v(" "),v("ul",[v("li",[t._v("线程的cpu时间片用完")]),t._v(" "),v("li",[t._v("垃圾回收")]),t._v(" "),v("li",[t._v("有更高优先级的线程需要运行")]),t._v(" "),v("li",[t._v("线程自己调用了sleep、yield、wait、join、park、synchronized、lock等方法")])]),t._v(" "),v("p",[t._v("当 Context Switch 发生时，需要由操作系统保存当前线程的状态，并恢复另一个线程的状态，Java 中对应的概念 就是程序计数器（Program Counter Register），它的作用是记住下一条 jvm 指令的执行地址，是线程私有的")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("状态包括程序计数器、虚拟机栈中每个栈帧的信息，如局部变量、操作数栈、返回地址等")])]),t._v(" "),v("li",[v("p",[t._v("Context Switch 频繁发生会影响性能")])])])])}),[],!1,null,null,null);e.default=r.exports},510:function(t,e,a){t.exports=a.p+"assets/img/1.8e1fbdf1.png"}}]);