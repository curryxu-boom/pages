(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{1409:function(s,t,a){"use strict";a.r(t);var e=a(1),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"基于iptables开启端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基于iptables开启端口"}},[s._v("#")]),s._v(" 基于iptables开启端口")]),s._v(" "),e("h2",{attrs:{id:"_1、本地测试3306是否开启"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、本地测试3306是否开启"}},[s._v("#")]),s._v(" 1、本地测试3306是否开启")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("首先要ping一下看是否联通\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".43.47\n\n之后使用telnet命令查看是否可用\ntelnet "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".43.47 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h2",{attrs:{id:"_2、开启3306端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、开启3306端口"}},[s._v("#")]),s._v(" 2、开启3306端口")]),s._v(" "),e("h3",{attrs:{id:"_2-1、常用指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1、常用指令"}},[s._v("#")]),s._v(" 2.1、常用指令")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("查看防火墙状态：\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" iptables status\n\n重启防火墙：\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" iptables restart\n\n查看3306端口状态\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -an"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h3",{attrs:{id:"_2-2-编辑防火墙配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-编辑防火墙配置文件"}},[s._v("#")]),s._v(" 2.2 编辑防火墙配置文件")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconfig/iptables\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("注：一定注意自己的虚拟机系统是什么")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ubuntu 使用\n-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 3306 -j ACCEPT \n\nCentOS 使用\n-A INPUT -m state --state NEW -m tcp -p tcp --dport 3306 -j ACCEPT \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("img",{attrs:{src:a(783)}}),s._v(" "),e("blockquote",[e("p",[s._v("注意上述代码要放在如下之后")]),s._v(" "),e("p",[s._v("-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT")]),s._v(" "),e("p",[s._v("注意上述代码要放在如下之前")]),s._v(" "),e("p",[s._v("-A INPUT -j REJECT --reject-with icmp-host-prohibited")])]),s._v(" "),e("h3",{attrs:{id:"_2-3-重启防火墙"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-重启防火墙"}},[s._v("#")]),s._v(" 2.3 重启防火墙")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" iptables restart\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);t.default=n.exports},783:function(s,t,a){s.exports=a.p+"assets/img/9.202dd74a.png"}}]);